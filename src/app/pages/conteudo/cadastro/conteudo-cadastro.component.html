<div *ngIf="loadingInit" class="flex justify-content-center align-items-center w-full h-full">
  <p-progressSpinner styleClass="full-page-spinner"></p-progressSpinner>
</div>

<div *ngIf="!loadingInit" class="mt-3">
  <form [formGroup]="conteudoForm" (ngSubmit)="submit()">
    <div class="p-card shadow-none">
      <div class="col-12">
        <span class="p-float-label">
          <input
            id="descricao-input"
            type="text"
            pInputText
            formControlName="descricao"
            [class.ng-dirty]="conteudoForm.controls['descricao'].dirty"
          >
          <label for="descricao-input">Descrição *</label>
        </span>
      </div>

      <div class="col-12">
        <span class="p-float-label p-input-icon-right">
          <p-autoComplete
            inputId="disciplinas-input"
            [multiple]="true"
            [suggestions]="disciplinasAvaible"
            (completeMethod)="disciplinaAutocomplete($event.query)"
            [field]="$any(disciplinaAutoCompleteConverter)"
            formControlName="disciplinas"
            [completeOnFocus]="true"
            [forceSelection]="true"
          >
          </p-autoComplete>
          <label for="disciplinas-input">Disciplinas *</label>
          <i class="pi">
            <i *ngIf="loadingDisciplinas" class="pi pi-spinner pi-spin mr-1"></i>
            <i
              pRipple
              class="pi pi-plus-circle text-primary cursor-pointer"
              (click)="openCadastroDisciplina()"
            ></i>
          </i>
        </span>
      </div>
    </div>

    <div class="flex flex-row justify-content-between pt-1 pr-3 pl-3">
      <ui-button label="Voltar" (click)="return()" outlined></ui-button>
      <ui-button label="Salvar" type="submit"></ui-button>
    </div>
  </form>
</div>
